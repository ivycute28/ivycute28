name: Update README with Random Chatbot Response

on:
  schedule:
    - cron: "0 */6 * * *"  # æ¯ 6 å°æ™‚åŸ·è¡Œä¸€æ¬¡
  workflow_dispatch:  # å…è¨±æ‰‹å‹•è§¸ç™¼å·¥ä½œæµç¨‹

jobs:
  update_readme:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.9  # å¯ä»¥æ ¹æ“šéœ€è¦é¸æ“‡ Python ç‰ˆæœ¬

      - name: Install dependencies
        run: |
          pip install random  # å®‰è£æ‰€éœ€çš„ Python æ¨¡çµ„

      - name: Run Update Readme Script
        run: |
          python update_readme.py  # åŸ·è¡Œ update_readme.py è…³æœ¬ä¾†æ›´æ–° README

      - name: Pull the latest changes from remote
        run: |
          git pull origin main --rebase  # æ‹‰å–é ç«¯çš„æœ€æ–°æ›´æ”¹

      - name: Commit and push changes
        run: |
          git config --global user.name "GitHub Actions Bot"
          git config --global user.email "github-actions@github.com"
          git add README.md
          git commit -m "ğŸ¤– æ›´æ–° README æ©Ÿå™¨äººå›æ‡‰" || echo "No changes to commit"
          git push origin main
